<!DOCTYPE html>
<html>
  <head>
    <style type="text/css">
@import url('https://fonts.googleapis.com/css?family=Dosis');

body {
    color: white;
    font-family: Verdana, Geneva, Tahoma, sans-serif;
}

.remark-slide-number {
    visibility: hidden;
}

.remark-slide-content {
    background-color: #282828;
}

.remark-slide-content h1 {
    font-size: 1.7em;
    margin-bottom: 0.5em;
}

.remark-slide-content h2 {
    font-size: 1.4em;
    margin-bottom: 0.2em;
}

.remark-slide-content table {
    border-collapse: collapse;
}

.remark-slide-content table td, .remark-slide-content table th {
    border: 1px solid black;
    padding: 0.5em;
}

    </style>
  </head>
  <body>
     <textarea id="source">
class: center, middle

# Libp2p - zkSummit

## Power to the peers

<div style="position: absolute; bottom: 5%; left: 0; right: 0;">
    <div style="text-align: center">
        <img src="parity-logo.png" alt="Parity" height="128" />
    </div>
</div>
<div style="position: absolute; bottom: 5%; left: 5%;">
.left[
    <img src="twitter.png" alt="Twitter" height="16" /> twitter.com/tomaka17<br />
    <img src="github.png" alt="GitHub" height="16" /> github.com/tomaka<br />
]
</div>
<div style="position: absolute; bottom: 5%; right: 5%;">
.right[
    twitter.com/jFransham <img src="twitter.png" alt="Twitter" height="16" /><br />
    github.com/Vurich <img src="github.png" alt="GitHub" height="16" /><br />
]
</div>
---

# What is libp2p?

- Peer-to-peer networking protocol
- Implementations in Go, JavaScript and Rust (us!)
- Used by IPFS
- Will be used by Polkadot and Parity
- May be used by Ethereum in the future

<div style="position: absolute; bottom: 5%; left: 5%;">
.left[
    <img src="ipfs.png" alt="IPFS" height="64" />
]
</div>
<div style="position: absolute; bottom: 5%; left: 0; right: 0;">
    <div style="text-align: center">
        <img src="polkadot.png" alt="Polkadot" height="64" />
    </div>
</div>
<div style="position: absolute; bottom: 5%; right: 5%;">
.right[
    <img src="parity-logo.png" alt="Parity" height="64" />
]
</div>
---

# Multiaddress

In traditional peer-to-peer systems, a node is contacted directly through an IP address, a TCP port
and an UDP port.

In libp2p, a node is contacted through a multiaddress.

Examples:

- `/ip4/80.129.4.75/tcp/8200`
- `/ip4/196.27.207.12/tcp/10250/wss`
- `/ip6/2001:db8:a0b:12f0::1/udp/3050`
- `/dns/example.com/tcp/5000`
- `/ip4/125.90.85.23/tcp/5000/p2p-circuit/ip4/90.2.98.122/tcp/9001`

---

# Protocol negotiation

Once a connection between two nodes is established, the dialer negotiates with the listener a
protocol to apply to the connection.

Example communications between two nodes:

<img src="multistream-select.png" alt="" />

In this example, we negotiate the protocol `/plaintext/1.0.0`, then the protocol `/mplex/6.7.0`.

---

# Security layer

The first protocol negotiated when a connection is open is either the security layer.

Two are standard: *plaintext* and *secio*.
Plaintext is just a basic pass-through protocol.

Secio encrypts communications.

After the security layer has been negotiated, the two nodes negotiated other protocols on top of
it.

---

# Multiplexing

On top of the security layer, the second protocol that is negotiated is the multiplexing layer.

Again, two protocols are standard: *mplex* and *yamux* (only implemented in Go).

Multiplexing allows both nodes to open substreams on the connection, each of which negotiate a
separate protocol.

---

# Final protocols

In each multiplexed substream, a final protocol is negotiated.

Examples: *identify*, *ping*, *kademlia*, *floodsub*, etc., or any custom protocol you wish.

---

# Final protocols: identify

Allows querying:

- The public key of a node (useful if secio isn't used).
- The multiaddresses a node is listening on.
- The protocols a node supports.

---

# Final protocols: kademlia

Allows peer discovery and record store.

---

# Final protocols: floodsub



    </textarea>
     <script src="remark.min.js">
    </script>
    <script>
       var slideshow = remark.create();
    </script>
  </body>
</html>
